(this["webpackJsonpsplashpool.github.io"]=this["webpackJsonpsplashpool.github.io"]||[]).push([[0],{136:function(e,a,t){e.exports=t(193)},141:function(e,a,t){},147:function(e,a,t){},150:function(e,a,t){},160:function(e,a,t){e.exports=t.p+"static/media/map.e9993cfc.png"},192:function(e,a,t){},193:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),l=t.n(o),i=(t(141),t(227)),c=t(243),s=(t(95),t(18)),m=t(12),u=t(225),d=t(113),p=t(229),g=t(101);t(147);var E=function(){return r.a.createElement("div",{className:"Header",style:{padding:20}},r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,md:!0}),r.a.createElement(u.a,{item:!0,xs:12,md:6},r.a.createElement(g.a,{icon:"hand-holding-water",className:"spl--pb"}),r.a.createElement(d.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"spl--pb"},"Welcome to Oasis"),r.a.createElement(d.a,{variant:"body1",gutterBottom:!0,className:"spl--pb"},"Find for your nearest drinking water and toilet facilities"),r.a.createElement(s.b,{to:"/search",style:{textDecoration:"none"}},r.a.createElement(p.a,{variant:"contained",color:"primary"},"Search locations"))),r.a.createElement(u.a,{item:!0,md:!0})))},h=t(70),f=t(71),v=t(79),b=t(78),w=t(248),y=t(102),k=t.n(y),C=t(233),O=t(232),x=t(247),S=t(245),N=(t(150),function(e){Object(v.a)(t,e);var a=Object(b.a)(t);function t(e){var n;return Object(h.a)(this,t),(n=a.call(this,e)).state={},n.state={email:"",password:""},n}return Object(f.a)(t,[{key:"login",value:function(){console.log("this.state",this.state)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Login"},r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,md:!0}),r.a.createElement(u.a,{item:!0,xs:12,md:6},r.a.createElement(w.a,null,r.a.createElement(k.a,null)),r.a.createElement(d.a,{variant:"h3",component:"h1",gutterBottom:!0},"Login with Email"),r.a.createElement(d.a,{variant:"body1",gutterBottom:!0},"Enter the email address associated with your account"),r.a.createElement("form",{noValidate:!0},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(a){return e.setState({email:a.target.value})}}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(a){return e.setState({password:a.target.value})}}),r.a.createElement(O.a,{control:r.a.createElement(x.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.login()}},"Continue")),r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:!0},r.a.createElement(C.a,{href:"#",variant:"body1"},"Forgot password?")),r.a.createElement(u.a,{item:!0},"No account.",r.a.createElement(C.a,{href:"#",variant:"body1",gutterBottom:!0}," Create one")))),r.a.createElement(u.a,{item:!0,md:!0})))}}]),t}(n.Component)),j=t(31),W=t(28),R=t(97),L=t(9),M=t(234),T=t(235),D=t(85),F=t(249),P=t(250),B=t(111),I=t(103),z=t.n(I),A=t(75),U=t.n(A),J=t(88),H=t.n(J),q=t(104),K=t.n(q),G=Object(R.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(W.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(W.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(L.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(L.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(W.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(W.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(W.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function V(){var e=G(),a=r.a.useState(null),t=Object(j.a)(a,2),n=t[0],o=t[1],l=r.a.useState(null),i=Object(j.a)(l,2),c=i[0],m=i[1],u=Boolean(n),g=Boolean(c),E=function(e){o(e.currentTarget)},h=function(){m(null)},f=function(){o(null),h()},v="primary-search-account-menu",b=r.a.createElement(B.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:v,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:f},r.a.createElement(P.a,{onClick:f},"Profile"),r.a.createElement(P.a,{onClick:f},"My account")),w=r.a.createElement(B.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:h},r.a.createElement(P.a,{onClick:E},r.a.createElement(D.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(H.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:e.grow},r.a.createElement(M.a,{position:"static"},r.a.createElement(T.a,null,r.a.createElement(D.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(z.a,null)),r.a.createElement(d.a,{className:e.title,variant:"h6",noWrap:!0},r.a.createElement(s.b,{to:"/",style:{textDecoration:"none"}},"Oasis")),r.a.createElement(p.a,{color:"inherit",component:s.b,to:"/login"},"Login"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(U.a,null)),r.a.createElement(F.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.sectionDesktop},r.a.createElement(D.a,{edge:"end","aria-label":"account of current user","aria-controls":v,"aria-haspopup":"true",onClick:E,color:"inherit"},r.a.createElement(H.a,null))),r.a.createElement("div",{className:e.sectionMobile},r.a.createElement(D.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit"},r.a.createElement(K.a,null))))),w,b)}var Y=t(76),Z=t.n(Y),$=t(240),Q=t(246),X=t(251),_=t(230),ee=t(236),ae=t(237),te=t(241),ne=t(238);var re=function(e){var a=r.a.useState("drinkable"),t=Object(j.a)(a,2),n=t[0],o=t[1];return console.log(e),r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(ee.a,{className:"spl-root"},r.a.createElement(ae.a,null,r.a.createElement("img",{className:"spl-media",src:"https://images.freeimages.com/images/large-previews/113/water-from-spring-1426253.jpg",title:"Contemplative Reptile"}),r.a.createElement(ne.a,null,r.a.createElement(d.a,{variant:"h5"},"Rating"),r.a.createElement(Z.a,{value:5,max:5,onChange:function(e){return console.log("Rated with value ".concat(e))}}),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(X.a,{"aria-label":"gender",name:"water",value:n,onChange:function(e){o(e.target.value)},className:"spl-radio"},r.a.createElement(O.a,{value:"drinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Drinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"treatment",control:r.a.createElement(Q.a,{color:"primary"}),label:"Need treatment"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"undrinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Undrinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"unkown",control:r.a.createElement(Q.a,{color:"primary"}),label:"Unkown"}))))),r.a.createElement(te.a,null,r.a.createElement(p.a,{size:"small",color:"primary"},"Report a problem"),r.a.createElement(p.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0},"Notify me")))))};var oe=function(e){var a=e.locations;return r.a.createElement(u.a,{container:!0,spacing:3},r.a.createElement(u.a,{item:!0,xs:12},a.name),r.a.createElement(u.a,{item:!0,xs:12},a.status),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement("ul",null,r.a.createElement("li",{key:a.id},r.a.createElement(s.b,{to:"/location-details/".concat(a.id)},a.id)))))};var le=function(e){return e.locationData.map((function(e){return r.a.createElement(oe,{locations:e})}))},ie=(t(158),t(107)),ce=t.n(ie),se=t(108),me=t.n(se),ue=t(89),de=t.n(ue),pe=t(105),ge=(t(160),t(38)),Ee=t.n(ge),he=t(106),fe=t.n(he);t(191);var ve=function(e){var a=e.longitude,t=e.latitude,n=.025*Math.sqrt(Math.random()),r=2*Math.random()*Math.PI,o=t+n*Math.cos(r);return{longitude:a+n*Math.sin(r),latitude:o}},be=function(e){for(var a=[],t=0;t<20;t++){var n=t,r=ve(e),o=r.longitude,l=r.latitude;a.push({type:"Feature",geometry:{type:"Point",coordinates:[o,l]},properties:{id:n,name:"Random Point #".concat(n),description:"description for Random Point #".concat(n),WC:!0,Water:!0,stars:4,status:"drinkable"}})}return Promise.resolve({type:"FeatureCollection",features:a})},we=function(e){var a=e.feature.properties,t=(a.id,a.name,a.description,a.status),n=a.stars,o=r.a.useState(t),l=Object(j.a)(o,2),i=(l[0],l[1]);return r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(ee.a,{className:"spl-root"},r.a.createElement(ae.a,null,r.a.createElement("img",{className:"spl-media",src:"https://images.freeimages.com/images/large-previews/113/water-from-spring-1426253.jpg",title:"Contemplative Reptile"}),r.a.createElement(ne.a,null,r.a.createElement(d.a,{variant:"h6"},"Rating"),r.a.createElement(Z.a,{value:n,max:5,onChange:function(e){return console.log("Rated with value ".concat(e))}}),r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(X.a,{"aria-label":"gender",name:"water",value:t,onChange:function(e){i(e.target.value)},className:"spl-radio"},r.a.createElement(O.a,{value:"drinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Drinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"treatment",control:r.a.createElement(Q.a,{color:"primary"}),label:"Need treatment"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"undrinkable",control:r.a.createElement(Q.a,{color:"primary"}),label:"Undrinkable"}),r.a.createElement($.a,null),r.a.createElement(O.a,{value:"unkown",control:r.a.createElement(Q.a,{color:"primary"}),label:"Unkown"}))))),r.a.createElement(te.a,null,r.a.createElement(p.a,{size:"small",color:"primary"},"Report a problem"),r.a.createElement(p.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0},"Notify me")))))},ye=t(10);Ee.a.accessToken="pk.eyJ1Ijoic2FuYWVzcGxhc2giLCJhIjoiY2tmYTlwMWpmMHR0cDJ0cHAyOHZhd3V0MSJ9.PmRGRrM4p1wgKavJKm-56A";var ke=function(e){var a=e.searchString;console.log("".concat(a," was given to MapView"));var t=Object(n.useRef)(null),o=Object(n.useRef)(new Ee.a.Popup({offset:[20,0]})),l=new Ee.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});return Object(n.useEffect)((function(){var e=new Ee.a.Map({container:t.current,style:"mapbox://styles/mapbox/streets-v11",center:[-1.9876,51.7405],zoom:12.5});return e.addControl(new Ee.a.NavigationControl,"bottom-right"),e.addControl(l.on("geolocate",(function(e){e.coords.longitude,e.coords.latitude}))),e.addControl(new fe.a({accessToken:Ee.a.accessToken,mapboxgl:Ee.a})),e.on("load",(function(){e.addSource("random-points-data",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:"random-points-layer",source:"random-points-data",type:"symbol",layout:{"icon-image":"drinking-water-15","icon-padding":0,"icon-size":1.5,"icon-allow-overlap":!0}})})),e.on("moveend",Object(pe.a)(de.a.mark((function a(){var t,n,r,o;return de.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.getCenter(),n=t.lng,r=t.lat,a.next=3,be({longitude:n,latitude:r});case 3:o=a.sent,e.getSource("random-points-data").setData(o);case 5:case"end":return a.stop()}}),a)})))),e.on("mouseenter","random-points-layer",(function(a){a.features.length&&(e.getCanvas().style.cursor="pointer")})),e.on("mouseleave","random-points-layer",(function(){e.getCanvas().style.cursor=""})),e.on("click","random-points-layer",(function(a){if(a.features.length){var t=a.features[0],n=document.createElement("div");ye.render(r.a.createElement(we,{feature:t}),n),o.current.setLngLat(t.geometry.coordinates).setDOMContent(n).addTo(e)}})),function(){return e.remove()}}),[]),r.a.createElement("div",{className:"map-container",ref:t})},Ce=t(90),Oe=t(231),xe=t(239),Se=t(242);function Ne(){var e=r.a.useState({water:!0,toilet:!0}),a=Object(j.a)(e,2),t=a[0],n=a[1],o=function(e){n(Object(Ce.a)(Object(Ce.a)({},t),{},Object(W.a)({},e.target.name,e.target.checked)))};return r.a.createElement(_.a,{component:"fieldset"},r.a.createElement(Oe.a,{component:"filterTitle",className:"spl-filterTitle"},"Filter Results"),r.a.createElement(xe.a,null,r.a.createElement(O.a,{control:r.a.createElement(Se.a,{checked:t.water,color:"primary",onChange:o,name:"water"}),label:"Water"}),r.a.createElement(O.a,{control:r.a.createElement(Se.a,{checked:t.toilet,color:"primary",onChange:o,name:"toilet"}),label:"Toilets"})))}var je=[{id:1,name:"london",longitude:"51.5074",latitude:" 0.1278",status:"Drinkable",isWater:!1,isWc:!0},{id:2,name:"Santiago",longitude:"54.5074",latitude:" 7.1278",status:"Need traitment",isWater:!0,isWc:!0},{id:3,name:"Santiago",longitude:"94.5074",latitude:" 7.1278",status:"Drinkable",isWater:!0,isWc:!1},{id:4,name:"Santiago",longitude:"04.5074",latitude:" 7.1278",status:"Uknown",isWater:!0,isWc:!0}];var We=function(e){var a=e.searchString;return console.log("".concat(a," was given to Filter")),r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:12,md:12},r.a.createElement(ke,{searchString:a}),r.a.createElement(le,{locationData:je})),r.a.createElement(u.a,{item:!0,xs:12,md:12},r.a.createElement(Ne,{filterResults:function(e){return e.waterOn&&e.wcOn?(console.log("Both filters are ON"),je):function(e,a){if(void 0===e)throw new Error("locations is required");if(void 0===a)throw new Error("state is required");var t=[];if(a.waterOn){console.log("water is ON");for(var n=0;n<e.length;n++)e[n].isWater&&t.push(e[n])}else if(a.wcOn){console.log("Toilets is ON");for(var r=0;r<e.length;r++)e[r].isWc&&t.push(e[r])}return console.log(t),t}(je,e)}})))},Re=function(e){Object(v.a)(t,e);var a=Object(b.a)(t);function t(e){var n;return Object(h.a)(this,t),(n=a.call(this,e)).handleTextChange=function(e){n.setState({text:e.target.value})},n.state={text:"",geoClicked:!1,saveLocsClicked:!1,searchEntered:!1},n}return Object(f.a)(t,[{key:"handleClick",value:function(e){console.log("".concat(e," Clicked")),"geolocation"===e?(console.log("".concat(e," Clicked2")),this.state.geoClicked=!0):(console.log("".concat(e," Clicked3")),this.state.saveLocsClicked=!0),console.log(this.state.geoClicked.toString()),console.log(this.state.saveLocsClicked.toString()),console.log(this.state.searchEntered.toString()),this.setState({redirect:!0})}},{key:"handleEnterKeyPress",value:function(e){if(13===e.keyCode){var a=e.target.value;console.log("".concat(a,"<ENTER>")),this.setState({searchEntered:!0}),e.target.value=""}}},{key:"render",value:function(){var e=this;if(this.state.redirect&&this.state.geoClicked){return console.log("passing to Filter1 - ".concat("geolocation")),r.a.createElement(We,{searchString:"geolocation"})}if(!this.state.redirect||!this.state.saveLocsClicked){if(this.state.redirect&&this.state.searchEntered){var a={searchString:this.state.text};return console.log("passing to Filter2 - searchString"),r.a.createElement(We,{searchString:a})}return r.a.createElement("div",null,r.a.createElement(u.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(u.a,{item:!0,className:"mui-col-md-2 mui-col--md-offset-2"},r.a.createElement(U.a,null)),r.a.createElement(u.a,{item:!0},r.a.createElement(S.a,{className:"textBox",variant:"filled",id:"input-with-icon-grid",label:"Search locations",style:{minWidth:350,maxWidth:800},onChange:this.handleTextChange,onKeyDown:this.handleEnterKeyPress,value:this.state.text}))),r.a.createElement(u.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(u.a,{item:!0},r.a.createElement(D.a,{onClick:function(){return e.handleClick("geolocation")}},r.a.createElement(ce.a,null),"Find Nearest Facility"))),r.a.createElement(u.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(u.a,{item:!0},r.a.createElement(D.a,{onClick:function(){return e.handleClick("savedLocations")}},r.a.createElement(me.a,null),"Manage Saved Locations"))))}console.log("Into Managed Saved Locations")}}]),t}(n.Component),Le=t(55),Me=t(109),Te=t(110),De=t(244);t(192);var Fe=function(){return r.a.createElement(De.a,{mt:8},r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(C.a,{color:"inherit",href:"/"},"Splashpool")," ",(new Date).getFullYear(),"."))};Le.b.add(Me.a,Te.a);var Pe=function(){return r.a.createElement(i.b,{injectFirst:!0},r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(V,null),r.a.createElement(c.a,{maxWidth:"md"},r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/locations"},"Locations")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/search"},"Search")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/location-details/:number"},"location-details")))),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/locations"},r.a.createElement(We,null)),r.a.createElement(m.a,{path:"/search",component:Re}),r.a.createElement(m.a,{path:"/login",component:N}),r.a.createElement(m.a,{path:"/location-details/:number",component:re}),r.a.createElement(m.a,{path:"/",exact:!0,component:E})))),r.a.createElement(Fe,null))))},Be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ie(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");Be?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ie(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ie(a,e)}))}}()},95:function(e,a,t){}},[[136,1,2]]]);
//# sourceMappingURL=main.ad26008a.chunk.js.map