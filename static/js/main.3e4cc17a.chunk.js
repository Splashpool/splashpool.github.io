(this["webpackJsonpsplashpool.github.io"]=this["webpackJsonpsplashpool.github.io"]||[]).push([[0],{190:function(e,t,a){},265:function(e,t,a){e.exports=a.p+"static/media/loading.2dc69883.svg"},306:function(e,t,a){e.exports=a(664)},313:function(e,t,a){},315:function(e,t,a){},317:function(e,t,a){},339:function(e,t,a){e.exports=a.p+"static/media/map.e9993cfc.png"},664:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),c=a(54),i=(a(313),a(703)),s=a(100),m=a(713),u=a(733),d=(a(190),a(20)),E=a(17),p=a(701),g=a(80),h=a(705),v=a(115);a(315);var f=function(){var e=document.getElementById("geocoder");return e&&e.removeChild(e.childNodes[0]),r.a.createElement("div",{className:"Header",style:{padding:20}},r.a.createElement(p.a,{container:!0,spacing:0},r.a.createElement(p.a,{item:!0,md:!0}),r.a.createElement(p.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{icon:"hand-holding-water",className:"spl--pb"}),r.a.createElement(g.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"spl--pb"},"Welcome to Oasis"),r.a.createElement(g.a,{variant:"body1",gutterBottom:!0,className:"spl--pb"},"Find for your nearest drinking water and toilet facilities"),r.a.createElement(d.b,{to:"/search",style:{textDecoration:"none"}},r.a.createElement(h.a,{variant:"contained",color:"primary"},"Search locations"))),r.a.createElement(p.a,{item:!0,md:!0})))},b=a(45),O=a(57),C=a(60),_=a(58),A=a(738),T=a(142),y=a.n(T),L=a(712),S=a(711),w=a(737),N=a(739),j=(a(317),function(e){Object(C.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={},n.state={email:"",password:""},n}return Object(O.a)(a,[{key:"login",value:function(){console.log("this.state",this.state)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Login"},r.a.createElement(p.a,{container:!0,spacing:0},r.a.createElement(p.a,{item:!0,md:!0}),r.a.createElement(p.a,{item:!0,xs:12,md:6},r.a.createElement(A.a,null,r.a.createElement(y.a,null)),r.a.createElement(g.a,{variant:"h3",component:"h1",gutterBottom:!0},"Login with Email"),r.a.createElement(g.a,{variant:"body1",gutterBottom:!0},"Enter the email address associated with your account"),r.a.createElement("form",{noValidate:!0},r.a.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement(S.a,{control:r.a.createElement(w.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.login()}},"Continue")),r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0,xs:!0},r.a.createElement(L.a,{href:"#",variant:"body1"},"Forgot password?")),r.a.createElement(p.a,{item:!0},"No account.",r.a.createElement(L.a,{href:"#",variant:"body1",gutterBottom:!0}," Create one")))),r.a.createElement(p.a,{item:!0,md:!0})))}}]),a}(n.Component)),I=a(67),k=a(11),P=(r.a.createContext(null),a(179),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AUTH0_DOMAIN:"dev-ov395x0x.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"VvokYrBlTBptqKIeAu6XmkIa9ypeKYk8",REACT_APP_AUTH0_AUDIENCE:"https://express.sample",REACT_APP_SERVER_URL:"http://localhost:6060"}).REACT_APP_API_KEY,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AUTH0_DOMAIN:"dev-ov395x0x.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"VvokYrBlTBptqKIeAu6XmkIa9ypeKYk8",REACT_APP_AUTH0_AUDIENCE:"https://express.sample",REACT_APP_SERVER_URL:"http://localhost:6060"}).REACT_APP_AUTH_DOMAIN,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AUTH0_DOMAIN:"dev-ov395x0x.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"VvokYrBlTBptqKIeAu6XmkIa9ypeKYk8",REACT_APP_AUTH0_AUDIENCE:"https://express.sample",REACT_APP_SERVER_URL:"http://localhost:6060"}).REACT_APP_DATABASE_URL,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AUTH0_DOMAIN:"dev-ov395x0x.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"VvokYrBlTBptqKIeAu6XmkIa9ypeKYk8",REACT_APP_AUTH0_AUDIENCE:"https://express.sample",REACT_APP_SERVER_URL:"http://localhost:6060"}).REACT_APP_PROJECT_ID,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AUTH0_DOMAIN:"dev-ov395x0x.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"VvokYrBlTBptqKIeAu6XmkIa9ypeKYk8",REACT_APP_AUTH0_AUDIENCE:"https://express.sample",REACT_APP_SERVER_URL:"http://localhost:6060"}).REACT_APP_STORAGE_BUCKET,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AUTH0_DOMAIN:"dev-ov395x0x.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"VvokYrBlTBptqKIeAu6XmkIa9ypeKYk8",REACT_APP_AUTH0_AUDIENCE:"https://express.sample",REACT_APP_SERVER_URL:"http://localhost:6060"}).REACT_APP_MESSAGING_SENDER_ID,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AUTH0_DOMAIN:"dev-ov395x0x.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"VvokYrBlTBptqKIeAu6XmkIa9ypeKYk8",REACT_APP_AUTH0_AUDIENCE:"https://express.sample",REACT_APP_SERVER_URL:"http://localhost:6060"}).REACT_APP_ID,{firstName:"",lastName:"",email:"",passwordOne:"",passwordTwo:"",error:null}),R=function(e){Object(C.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=(t.firstName,t.lastName,t.email),r=t.passwordOne;t.isAdmin;n.props.firebase.doCreateUserWithEmailAndPassword(a,r).then((function(){return n.props.firebase.doSendEmailVerification()})).then((function(){n.setState(Object(k.a)({},P)),n.props.history.push("/home")})).catch((function(e){"auth/email-already-in-use"===e.code&&(e.message="\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them.\n"),n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(I.a)({},e.target.name,e.target.value))},n.onChangeCheckbox=function(e){n.setState(Object(I.a)({},e.target.name,e.target.checked))},n.registerUser=function(){return console.log(n.email,n.password),null},n.state={},n.state=Object(k.a)({},P),n}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.email,o=e.passwordOne,l=e.passwordTwo,c=e.error,i=o!==l||""===o||""===n||""===t||""===a;return r.a.createElement("div",{className:"Register"},r.a.createElement(p.a,{container:!0,spacing:0},r.a.createElement(p.a,{item:!0,md:!0}),r.a.createElement(p.a,{item:!0,xs:12,md:6},r.a.createElement(A.a,null,r.a.createElement(y.a,null)),r.a.createElement(g.a,{variant:"h3",component:"h1",gutterBottom:!0},"Welcome! Sign up to continue"),r.a.createElement(g.a,{variant:"body1",gutterBottom:!0},"Enter an email address and password"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",value:t,autoFocus:!0,onChange:this.onChange}),r.a.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoFocus:!0,value:a,onChange:this.onChange}),r.a.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:n,onChange:this.onChange}),r.a.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"passwordOne",onChange:this.onChange}),r.a.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Confirm password",type:"password",id:"passwordTwo",onChange:this.onChange}),r.a.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"organisation",label:"Organisation",type:"organisation",id:"organisation",onChange:this.onChange}),r.a.createElement(S.a,{control:r.a.createElement(w.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(h.a,{disabled:!i,type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Continue"),console.log("Is Invalid value: ",i),c&&r.a.createElement("p",null,c.message))),r.a.createElement(p.a,{item:!0,md:!0})))}}]),a}(n.Component),D=a(33),x=function(){var e=Object(D.b)().user,t=e.name,a=e.picture,n=e.email;return r.a.createElement("div",null,r.a.createElement("div",{className:"row align-items-center profile-header"},r.a.createElement("div",{className:"col-md-2 mb-3"},r.a.createElement("img",{src:a,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})),r.a.createElement("div",{className:"col-md text-center text-md-left"},r.a.createElement("h2",null,t),r.a.createElement("p",{className:"lead text-muted"},n))),r.a.createElement("div",{className:"row"},r.a.createElement("pre",{className:"col-12 text-light bg-dark p-4"},JSON.stringify(e,null,2))))},U=a(146),W=a.n(U),B=a(718),K=a(736),H=a(740),F=a(708),M=a(714),V=a(715),q=a(719),G=a(716);var Y=function(e){var t={};e.features?t=e.features.properties:(console.log("dataaaaa",e.match.params),t={id:1,name:"name",description:"descriptionn",status:"unkown",stars:2});var a=document.getElementById("geocoder");return a&&a.removeChild(a.childNodes[0]),r.a.createElement(p.a,{container:!0,spacing:0},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(M.a,{className:"spl-root"},r.a.createElement(V.a,null,r.a.createElement("img",{className:"spl-media",src:"https://images.freeimages.com/images/large-previews/113/water-from-spring-1426253.jpg",title:"Contemplative Reptile"}),r.a.createElement(G.a,null,r.a.createElement(g.a,{variant:"h5"},"Rating"),r.a.createElement(W.a,{value:t.stars,max:5,onChange:function(e){return console.log("Rated with value ".concat(e))}}),r.a.createElement(F.a,{component:"fieldset"},r.a.createElement(H.a,{"aria-label":"gender",name:"water",value:t.status,onChange:function(e){},className:"spl-radio"},r.a.createElement(S.a,{value:"drinkable",control:r.a.createElement(K.a,{color:"primary"}),label:"Drinkable"}),r.a.createElement(B.a,null),r.a.createElement(S.a,{value:"treatment",control:r.a.createElement(K.a,{color:"primary"}),label:"Need treatment"}),r.a.createElement(B.a,null),r.a.createElement(S.a,{value:"undrinkable",control:r.a.createElement(K.a,{color:"primary"}),label:"Undrinkable"}),r.a.createElement(B.a,null),r.a.createElement(S.a,{value:"unkown",control:r.a.createElement(K.a,{color:"primary"}),label:"Unkown"}))))),r.a.createElement(q.a,null,r.a.createElement(h.a,{size:"small",color:"primary"},"Report a problem"),r.a.createElement(h.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0},"Notify me")))))},J=(a(338),a(149)),X=a.n(J),z=a(258),Z=a.n(z),$=a(259),Q=a.n($),ee=a(175),te=a(30),ae=a.n(te),ne=a(68),re=(a(339),a(79)),oe=a.n(re),le=a(253),ce=a.n(le);a(369);var ie=function(e){var t=e.longitude,a=e.latitude,n=.025*Math.sqrt(Math.random()),r=2*Math.random()*Math.PI,o=a+n*Math.cos(r);return{longitude:t+n*Math.sin(r),latitude:o}},se=function(e){for(var t=[],a=0;a<20;a++){var n=a,r=ie(e),o=r.longitude,l=r.latitude;t.push({type:"Feature",geometry:{type:"Point",coordinates:[o,l]},properties:{id:n,name:"Random Point #".concat(n),description:"description for Random Point #".concat(n),WC:!0,Water:!0,stars:4,status:"drinkable"}})}return Promise.resolve({type:"FeatureCollection",features:t})},me=a(34),ue=(a(370),function(e){var t=e.feature,a=t.properties,n=a.id,o=(a.name,a.description,a.status),c=a.stars,i=r.a.useState(o),s=Object(me.a)(i,2);s[0],s[1];return r.a.createElement(p.a,{container:!0,spacing:0,className:"popupdiv"},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(g.a,null,o)),r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(W.a,{value:c,max:5,onChange:function(e){return console.log("Rated with value ".concat(e))},className:"spl-star"})),r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(d.a,null,r.a.createElement("ul",null,r.a.createElement("li",{key:n},r.a.createElement(d.b,{to:"/location-details/".concat(n),onClick:function(){l.a.render(r.a.createElement(Y,{features:t}),document.querySelector("#container"))}},"Details"))))))}),de=a(9);oe.a.accessToken="pk.eyJ1Ijoic2FuYWVzcGxhc2giLCJhIjoiY2tmYTlwMWpmMHR0cDJ0cHAyOHZhd3V0MSJ9.PmRGRrM4p1wgKavJKm-56A";var Ee=function(e){var t=e.searchString;console.log("".concat(t," was given to MapView"));var a=Object(n.useRef)(null),o=Object(n.useRef)(new oe.a.Popup({offset:[20,0]})),l=new oe.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});return Object(n.useEffect)((function(){var e=new oe.a.Map({container:a.current,style:"mapbox://styles/mapbox/streets-v11",center:[-1.9876,51.7405],zoom:12.5});e.addControl(new oe.a.NavigationControl,"bottom-right"),e.addControl(l.on("geolocate",(function(e){e.coords.longitude,e.coords.latitude})));var t=new ce.a({accessToken:oe.a.accessToken,mapboxgl:oe.a});return document.getElementById("geocoder").childNodes[0]||document.getElementById("geocoder").appendChild(t.onAdd(e)),e.on("load",(function(){e.addSource("random-points-data",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:"random-points-layer",source:"random-points-data",type:"symbol",layout:{"icon-image":"drinking-water-15","icon-padding":0,"icon-size":1.5,"icon-allow-overlap":!0}})})),e.on("moveend",Object(ne.a)(ae.a.mark((function t(){var a,n,r,o;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getCenter(),n=a.lng,r=a.lat,t.next=3,se({longitude:n,latitude:r});case 3:o=t.sent,e.getSource("random-points-data").setData(o);case 5:case"end":return t.stop()}}),t)})))),e.on("mouseenter","random-points-layer",(function(t){t.features.length&&(e.getCanvas().style.cursor="pointer")})),e.on("mouseleave","random-points-layer",(function(){e.getCanvas().style.cursor=""})),e.on("click","random-points-layer",(function(t){if(t.features.length){var a=t.features[0],n=document.createElement("div");de.render(r.a.createElement(ue,{feature:a}),n),o.current.setLngLat(a.geometry.coordinates).setDOMContent(n).addTo(e)}})),function(){return e.remove()}}),[]),r.a.createElement("div",{className:"map-container",ref:a})},pe=a(667),ge=a(717),he=a(720);function ve(){var e=r.a.useState({water:!0,toilet:!0}),t=Object(me.a)(e,2),a=t[0],n=t[1],o=function(e){n(Object(k.a)(Object(k.a)({},a),{},Object(I.a)({},e.target.name,e.target.checked)))};return r.a.createElement(F.a,{component:"fieldset"},r.a.createElement(pe.a,{className:"spl-filterTitle"},"Filter Results"),r.a.createElement(ge.a,null,r.a.createElement(S.a,{control:r.a.createElement(he.a,{checked:a.water,color:"primary",onChange:o,name:"water"}),label:"Water"}),r.a.createElement(S.a,{control:r.a.createElement(he.a,{checked:a.toilet,color:"primary",onChange:o,name:"toilet"}),label:"Toilets"})))}var fe=[{id:1,name:"london",longitude:"51.5074",latitude:" 0.1278",status:"Drinkable",isWater:!1,isWc:!0},{id:2,name:"Santiago",longitude:"54.5074",latitude:" 7.1278",status:"Need traitment",isWater:!0,isWc:!0},{id:3,name:"Santiago",longitude:"94.5074",latitude:" 7.1278",status:"Drinkable",isWater:!0,isWc:!1},{id:4,name:"Santiago",longitude:"04.5074",latitude:" 7.1278",status:"Uknown",isWater:!0,isWc:!0}];var be=function(e){var t=e.searchString;return console.log("".concat(t," was given to Filter")),r.a.createElement(p.a,{container:!0,id:"container"},r.a.createElement(p.a,{item:!0,xs:12,md:12},r.a.createElement(Ee,{searchString:t})),r.a.createElement(p.a,{item:!0,xs:12,md:12},r.a.createElement(ve,{filterResults:function(e){return e.waterOn&&e.wcOn?(console.log("Both filters are ON"),fe):function(e,t){if(void 0===e)throw new Error("locations is required");if(void 0===t)throw new Error("state is required");var a=[];if(t.waterOn){console.log("water is ON");for(var n=0;n<e.length;n++)e[n].isWater&&a.push(e[n])}else if(t.wcOn){console.log("Toilets is ON");for(var r=0;r<e.length;r++)e[r].isWc&&a.push(e[r])}return console.log(a),a}(fe,e)}})))},Oe=function(e){Object(C.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handleTextChange=function(e){n.setState({text:e.target.value})},n.state={text:"",geoClicked:!1,saveLocsClicked:!1,searchEntered:!1},n}return Object(O.a)(a,[{key:"handleClick",value:function(e){console.log("".concat(e," Clicked")),"geolocation"===e?(console.log("".concat(e," Clicked2")),this.state.geoClicked=!0):(console.log("".concat(e," Clicked3")),this.state.saveLocsClicked=!0),console.log(this.state.geoClicked.toString()),console.log(this.state.saveLocsClicked.toString()),console.log(this.state.searchEntered.toString()),this.setState({redirect:!0})}},{key:"handleEnterKeyPress",value:function(e){if(13===e.keyCode){var t=e.target.value;console.log("".concat(t,"<ENTER>")),this.setState({searchEntered:!0}),e.target.value=""}}},{key:"render",value:function(){var e=this;if(this.state.redirect&&this.state.geoClicked){return console.log("passing to Filter1 - ".concat("geolocation")),r.a.createElement(be,{searchString:"geolocation"})}if(!this.state.redirect||!this.state.saveLocsClicked){if(this.state.redirect&&this.state.searchEntered){var t={searchString:this.state.text};return console.log("passing to Filter2 - searchString"),r.a.createElement(be,{searchString:t})}return r.a.createElement("div",null,r.a.createElement(p.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(p.a,{item:!0,className:"mui-col-md-2 mui-col--md-offset-2"},r.a.createElement(X.a,null)),r.a.createElement(p.a,{item:!0},r.a.createElement(N.a,{className:"textBox",variant:"filled",id:"input-with-icon-grid",label:"Search locations",style:{minWidth:350,maxWidth:800},onChange:this.handleTextChange,onKeyDown:this.handleEnterKeyPress,value:this.state.text}))),r.a.createElement(p.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(p.a,{item:!0},r.a.createElement(ee.a,{onClick:function(){return e.handleClick("geolocation")}},r.a.createElement(Z.a,null),"Find Nearest Facility"))),r.a.createElement(p.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(p.a,{item:!0},r.a.createElement(ee.a,{onClick:function(){return e.handleClick("savedLocations")}},r.a.createElement(Q.a,null),"Manage Saved Locations"))))}console.log("Into Managed Saved Locations")}}]),a}(n.Component),Ce=a(116),_e=a(268),Ae=a(120),Te=a(734);var ye=function(){return r.a.createElement("div",null,r.a.createElement(Te.a,{mt:8},r.a.createElement(g.a,{variant:"body2",align:"center",style:{color:"rgba(255, 255, 255, 0.54)"}},"Copyright \xa9 ",r.a.createElement(L.a,{color:"inherit",href:"/"},"Splashpool")," ",(new Date).getFullYear(),".")))},Le=a(7),Se=a(723),we=a(724),Ne=a(264),je=a.n(Ne),Ie=function(){var e=Object(D.b)().loginWithRedirect;return r.a.createElement(h.a,{variant:"outlined",color:"primary",onClick:function(){return e()}},"Log In")},ke=function(){var e=Object(D.b)().logout;return r.a.createElement(h.a,{variant:"outlined",color:"primary",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")},Pe=function(){return Object(D.b)().isAuthenticated?r.a.createElement(ke,null):r.a.createElement(Ie,null)},Re=function(){return r.a.createElement(Pe,null)},De=a(742),xe=a(710),Ue=a(669),We=a(721),Be=a(722),Ke=a(260),He=a.n(Ke),Fe=a(182),Me=a.n(Fe),Ve=a(261),qe=a.n(Ve),Ge=a(262),Ye=a.n(Ge),Je=a(263),Xe=a.n(Je),ze=function(e){Object(C.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(De.a,{style:{width:"240px"},varian:"persistent",anchor:"left",open:this.props.drawerOpened,onClose:this.props.toggleDrawer(!1),classes:{paper:e.drawerPaper}},r.a.createElement(xe.a,{onClick:this.props.toggleDrawer(!1),onKeyDown:this.props.toggleDrawer(!1)},r.a.createElement(d.b,{to:"/",className:e.link},r.a.createElement(Ue.a,{button:!0},r.a.createElement(We.a,null,r.a.createElement(He.a,null)),r.a.createElement(Be.a,{primary:"Home"}))),r.a.createElement(d.b,{to:"/locations",className:e.link},r.a.createElement(Ue.a,{button:!0},r.a.createElement(We.a,null,r.a.createElement(Me.a,null)),r.a.createElement(Be.a,{primary:"Locations"}))),r.a.createElement(d.b,{to:"/manage-locations",className:e.link},r.a.createElement(Ue.a,{button:!0},r.a.createElement(We.a,null,r.a.createElement(Me.a,null)),r.a.createElement(Be.a,{primary:"Manage Locations"}))),r.a.createElement(d.b,{to:"/location-details/:number",className:e.link},r.a.createElement(Ue.a,{button:!0},r.a.createElement(We.a,null,r.a.createElement(qe.a,null)),r.a.createElement(Be.a,{primary:"Locations Details"}))),r.a.createElement(d.b,{to:"/search",className:e.link},r.a.createElement(Ue.a,{button:!0},r.a.createElement(We.a,null,r.a.createElement(X.a,null)),r.a.createElement(Be.a,{primary:"Search"}))),r.a.createElement(d.b,{to:"/login",className:e.link},r.a.createElement(Ue.a,{button:!0},r.a.createElement(We.a,null,r.a.createElement(Ye.a,null)),r.a.createElement(Be.a,{primary:"Login"}))),r.a.createElement(d.b,{to:"/register",className:e.link},r.a.createElement(Ue.a,{button:!0},r.a.createElement(We.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(Be.a,{primary:"Register"}))))))}}]),a}(n.Component),Ze=Object(Le.a)((function(e){return{drawerPaper:Object(I.a)({width:"inherit",marginTop:64},e.breakpoints.down("sm"),{marginTop:56}),link:{textDecoration:"none",color:e.palette.text.primary},gutterBottom:{marginBottom:"1.5rem"}}}))(ze),$e=function(e){Object(C.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).toggleDrawer=function(e){return function(){n.setState({drawerOpened:e})}},n.state={drawerOpened:!1},n}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(Se.a,{position:"static",color:"transparent"},r.a.createElement(we.a,null,r.a.createElement(ee.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:this.toggleDrawer(!0)},r.a.createElement(je.a,null)),r.a.createElement("div",{id:"geocoder",className:"geocoder"}),r.a.createElement(g.a,{variant:"h6",className:e.title},"Photos"),r.a.createElement("div",null,r.a.createElement(Re,null)))),r.a.createElement(Ze,{drawerOpened:this.state.drawerOpened,toggleDrawer:this.toggleDrawer}))}}]),a}(r.a.Component),Qe=Object(Le.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}))($e),et=a(265),tt=a.n(et),at={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},nt=function(){return r.a.createElement("div",{style:at},r.a.createElement("img",{src:tt.a,alt:"Loading..."}))},rt=a(273),ot=function(e){var t=e.component,a=Object(rt.a)(e,["component"]);return r.a.createElement(E.a,Object.assign({component:Object(D.c)(t,{onRedirecting:function(){return r.a.createElement(nt,null)}})},a))},lt=a(92),ct=a.n(lt),it=a(732),st=a(731),mt=a(63),ut="https://j33niy2o35.execute-api.eu-west-2.amazonaws.com/dev/",dt=function(e){return function(){var t=Object(ne.a)(ae.a.mark((function t(a){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ADD_LOCATION_BEGINS"}),t.next=4,ct.a.post("".concat(ut,"/locations"),e);case 4:n=t.sent,a({type:"ADD_LOCATION_SUCCESS",payload:n.data}),mt.a.success("Location Added Successfully!"),t.next=15;break;case 9:throw t.prev=9,t.t0=t.catch(0),console.log(t.t0),a({type:"ADD_LOCATION_FAILURE"}),mt.a.error(t.t0.message),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Et=function(e){return e.location.locationList},pt=function(e){return e.location.getLocationLoading},gt=function(e){return e.location.addLocationLoading},ht=function(e){return e.location.deleteLocationLoading},vt=function(e){return e.location.updateLocationLoading},ft=a(266),bt=a.n(ft),Ot=a(193),Ct=a(709),_t=a(725),At=a(735),Tt=Object(Ot.a)((function(e){return{formControl:{minWidth:300},selectEmpty:{marginTop:e.spacing(2)}}})),yt=bt()().getData();console.log(yt);var Lt=function(){};function St(){var e=Tt();return r.a.createElement("div",null,r.a.createElement(F.a,{className:e.formControl},r.a.createElement(Ct.a,{id:"country"},"Country"),r.a.createElement(At.a,{labelId:"country",id:"country",required:!0,onChange:Lt},yt.map((function(e){return console.log(e.value),r.a.createElement(_t.a,{value:e.value},e.label)})))))}var wt=a(267),Nt=a.n(wt),jt=a(726),It=a(730),kt=a(728),Pt=a(729),Rt=a(727);function Dt(){var e=Object(c.b)(),t=r.a.useState(!1),a=Object(me.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(""),s=Object(me.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(""),E=Object(me.a)(d,2),g=E[0],v=E[1],f=Object(n.useState)(""),b=Object(me.a)(f,2),O=b[0],C=b[1],_=Object(n.useState)(""),A=Object(me.a)(_,2),T=A[0],y=A[1],L=Object(n.useState)(""),S=Object(me.a)(L,2),w=S[0],j=S[1],I=Object(c.c)(gt),k=function(){u(""),v(""),C(""),y(""),j("")},P=function(){k(),l(!1)},R=function(){var t=Object(ne.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(m,g,O,T,w),t.prev=1,t.next=4,e(dt({locationName:m,address1:g,address2:O,city:T,postCode:w,country:"",longitude:21.455,latitude:100.9876,adminOrg:"",water:!1,drinkable:!1,treatment:!1,unknown:!1,largeWaterFacility:!1,maleToilets:!1,femaleToilets:!1,largeToiletFacility:!1,disabledAccess:!1,chargeForUse:!1,openingHours:"",hasIssue:!1}));case 4:l(!1),k(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(p.a,{container:!0,justify:"flex-end",className:"spl--pb"},r.a.createElement(h.a,{variant:"outlined",color:"primary",onClick:function(){l(!0)}},r.a.createElement(Nt.a,null)," Add Location")),r.a.createElement(jt.a,{open:o,onClose:P,"aria-labelledby":"form-dialog-title"},r.a.createElement(Rt.a,{id:"form-dialog-title"},"Add Location"),r.a.createElement(kt.a,null,r.a.createElement(Pt.a,null,"Please enter your location details here."),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(N.a,{margin:"dense",id:"locationName",label:"Location Name",placeholder:"Enter location name",type:"text",fullWidth:!0,required:!0,value:m,onChange:function(e){u(e.target.value)}}),r.a.createElement(N.a,{margin:"dense",id:"address1",label:"Address Line 1",type:"text",fullWidth:!0,value:g,onChange:function(e){v(e.target.value)}}),r.a.createElement(N.a,{margin:"dense",id:"address2",label:"Address Line 2",type:"text",fullWidth:!0,value:O,onChange:function(e){C(e.target.value)}}),r.a.createElement(N.a,{margin:"dense",id:"city",label:"City",type:"text",fullWidth:!0,required:!0,value:T,onChange:function(e){y(e.target.value)}}),r.a.createElement(N.a,{margin:"dense",id:"postcode",label:"Postcode",type:"text",fullWidth:!0,value:w,onChange:function(e){j(e.target.value)}}),r.a.createElement(St,null))),r.a.createElement(It.a,null,r.a.createElement(h.a,{onClick:P,color:"primary"},"Cancel"),r.a.createElement(h.a,{onClick:function(){return R()},color:"primary"},"Add Location",I&&r.a.createElement(st.a,null)))))}function xt(){var e=Object(c.b)(),t=Object(c.c)(Et),a=Object(c.c)(pt),o=Object(c.c)(ht),l=Object(c.c)(vt),i=Object(n.useState)(null),s=Object(me.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(null),E=Object(me.a)(d,2),f=E[0],b=E[1];Object(n.useEffect)((function(){O()}),[]);var O=function(){e(function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_LOCATION_BEGINS"}),e.next=4,ct.a.get("".concat(ut,"/locations"));case 4:a=e.sent,t({type:"GET_LOCATION_SUCCESS",payload:a.data}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:"GET_LOCATION_FAILURE"}),mt.a.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},C=function(t){var a;u(t.locationId),e((a=t.locationId,function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"DELETE_LOCATION_BEGINS"}),e.next=4,ct.a.delete("".concat(ut,"/locations?locationId=").concat(a));case 4:console.log("Eva",a),t({type:"DELETE_LOCATION_SUCCESS",payload:a}),mt.a.success("Location Deleted Successfully!"),e.next=15;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),t({type:"DELETE_LOCATION_FAILURE"}),mt.a.error(e.t0.message),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))};return r.a.createElement("div",null,r.a.createElement(p.a,{container:!0,spacing:0},r.a.createElement(p.a,{item:!0,md:!0}),r.a.createElement(p.a,{item:!0,xs:12,md:6},r.a.createElement(g.a,{variant:"h3",component:"h1",gutterBottom:!0,className:"spl--pb spl--pt"},"Manage Locations"),!a&&0===t.length&&r.a.createElement(g.a,{variant:"body1",gutterBottom:!0,className:"spl--pb"},"Locations list empty."),a&&r.a.createElement(it.a,null),r.a.createElement(Dt,null),r.a.createElement("div",null,r.a.createElement(xe.a,null,t.map((function(t){return r.a.createElement(Ue.a,{key:t.locationId},r.a.createElement(Be.a,{primary:t.locationName}),r.a.createElement(h.a,{variant:"contained",color:"primary","aria-label":"update",onClick:function(){return function t(a){b(a.locationId),e(t(Object(k.a)({},a)))}(t)}},r.a.createElement(v.a,{icon:"pen"}),l&&t.locationId===f&&r.a.createElement(st.a,{color:"secondary"})),r.a.createElement(h.a,{variant:"outlined",color:"secondary",style:{marginLeft:"0.5rem"},"aria-label":"delete",onClick:function(){return C(t)}},r.a.createElement(v.a,{icon:"trash-alt"}),o&&t.locationId===m&&r.a.createElement(st.a,{color:"secondary"})))}))))),r.a.createElement(p.a,{item:!0,md:!0})))}Ce.b.add(_e.a,Ae.a,Ae.c,Ae.d,Ae.b);var Ut=Object(s.a)({palette:{primary:{main:"#1FB0F5"}},typography:{fontFamily:['"Montserrat"',"BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}}),Wt=function(){var e=Object(D.b)().isLoading;return Object(n.useEffect)((function(){ct.a.get("https://j33niy2o35.execute-api.eu-west-2.amazonaws.com/dev/locations",{crossdomain:!0}).then((function(e){console.log(e)}),(function(e){console.log(e)}),[])})),e?r.a.createElement(nt,null):r.a.createElement(m.a,{theme:Ut},r.a.createElement(i.b,{injectFirst:!0},r.a.createElement(d.a,null,r.a.createElement(Qe,null),r.a.createElement(u.a,{maxWidth:"md"},r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/locations"},r.a.createElement(be,null)),r.a.createElement(E.a,{path:"/search",component:Oe}),r.a.createElement(E.a,{path:"/manage-locations",component:xt}),r.a.createElement(E.a,{path:"/login",component:j}),r.a.createElement(E.a,{path:"/register",component:R}),r.a.createElement(ot,{path:"/profile",component:x}),r.a.createElement(E.a,{path:"/location-details/:number",component:Y}),r.a.createElement(E.a,{path:"/",exact:!0,component:f}))),r.a.createElement(ye,null))))},Bt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Kt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ht=a(74),Ft=a(269),Mt=a(270),Vt=a(271),qt={userList:[]},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_USER":return Object(k.a)(Object(k.a)({},e),{},{userList:n});default:return e}},Yt=a(272),Jt={locationList:[],getLocationLoading:!1,addLocationLoading:!1,deleteLocationLoading:!1,updateLocationLoading:!1},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_LOCATION_BEGINS":return Object(k.a)(Object(k.a)({},e),{},{getLocationLoading:!0});case"GET_LOCATION_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{locationList:n,getLocationLoading:!1});case"GET_LOCATION_FAILURE":return Object(k.a)(Object(k.a)({},e),{},{getLocationLoading:!1});case"ADD_LOCATION_BEGINS":return Object(k.a)(Object(k.a)({},e),{},{addLocationLoading:!0});case"ADD_LOCATION_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{locationList:[].concat(Object(Yt.a)(e.locationList),[n]),addLocationLoading:!1});case"ADD_LOCATION_FAILURE":return Object(k.a)(Object(k.a)({},e),{},{addLocationLoading:!1});case"DELETE_LOCATION_BEGINS":return Object(k.a)(Object(k.a)({},e),{},{deleteLocationLoading:!0});case"DELETE_LOCATION_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{locationList:e.locationList.filter((function(e){return e.locationId!==n})),deleteLocationLoading:!1});case"DELETE_LOCATION_FAILURE":return Object(k.a)(Object(k.a)({},e),{},{deleteLocationLoading:!1});case"UPDATE_LOCATION_BEGINS":return Object(k.a)(Object(k.a)({},e),{},{updateLocationLoading:!0});case"UPDATE_LOCATION_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{locationList:e.locationList.map((function(e){return e.locationId===n.locationId?n:e})),updateLocationLoading:!1});case"UPDATE_LOCATION_FAILURE":return Object(k.a)(Object(k.a)({},e),{},{updateLocationLoading:!1});default:return e}},zt=Object(Ht.combineReducers)({user:Gt,location:Xt}),Zt=Object(Vt.createLogger)({collapsed:!0}),$t=Object(Ht.createStore)(zt,void 0,Object(Mt.composeWithDevTools)(Object(Ht.applyMiddleware)(Ft.a,Zt))),Qt=(a(663),function(e){var t=e.children,a=Object(E.f)();return r.a.createElement(D.a,{domain:"dev-ov395x0x.eu.auth0.com",clientId:"VvokYrBlTBptqKIeAu6XmkIa9ypeKYk8",redirectUri:window.location.origin,onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"https://express.sample"},t)});mt.a.configure({autoClose:1500}),l.a.render(r.a.createElement(d.a,null,r.a.createElement(Qt,null,r.a.createElement(c.a,{store:$t},r.a.createElement(Wt,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Bt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Kt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Kt(t,e)}))}}()}},[[306,1,2]]]);
//# sourceMappingURL=main.3e4cc17a.chunk.js.map