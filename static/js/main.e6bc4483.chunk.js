(this["webpackJsonpsplashpool.github.io"]=this["webpackJsonpsplashpool.github.io"]||[]).push([[0],{107:function(e,t,a){},136:function(e,t,a){e.exports=a.p+"static/media/loading.2dc69883.svg"},169:function(e,t,a){e.exports=a(246)},178:function(e,t,a){},180:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=a(16),i=(a(178),a(289)),s=a(61),u=a(292),m=a(315),d=(a(107),a(20)),p=a(14),E=a(287),g=a(46),f=a(291),b=a(68);a(180);var h=function(){return r.a.createElement("div",{className:"Header",style:{padding:20}},r.a.createElement(E.a,{container:!0,spacing:0},r.a.createElement(E.a,{item:!0,md:!0}),r.a.createElement(E.a,{item:!0,xs:12,md:6},r.a.createElement(b.a,{icon:"hand-holding-water",className:"spl--pb"}),r.a.createElement(g.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"spl--pb"},"Welcome to Oasis"),r.a.createElement(g.a,{variant:"body1",gutterBottom:!0,className:"spl--pb"},"Find for your nearest drinking water and toilet facilities"),r.a.createElement(d.b,{to:"/locations",style:{textDecoration:"none"}},r.a.createElement(f.a,{variant:"contained",color:"primary"},"Search locations"))),r.a.createElement(E.a,{item:!0,md:!0})))},v=a(24),O=function(){var e=Object(v.b)().user,t=e.name,a=e.picture,n=e.email,o=e.sub;return r.a.createElement("div",null,r.a.createElement("div",{className:"row align-items-center profile-header"},r.a.createElement("div",{className:"col-md-2 mb-3"},r.a.createElement("img",{src:a,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})),r.a.createElement("div",{className:"col-md text-center text-md-left"},r.a.createElement("h2",null,t),r.a.createElement("p",null,"User id: ",o),r.a.createElement("p",{className:"lead text-muted"},n))),r.a.createElement("div",{className:"row"},r.a.createElement("pre",{className:"col-12 text-light bg-dark p-4"},JSON.stringify(e,null,2))))},y=a(87),j=a.n(y),L=a(18),C=a.n(L),w=a(35),k=a(58),N=a.n(k),S=a(43),x="https://j33niy2o35.execute-api.eu-west-2.amazonaws.com/dev/",I=function(){return function(){var e=Object(w.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_LOCATION_BEGINS"}),e.next=4,N.a.get("".concat(x,"/locations"));case 4:a=e.sent,t({type:"GET_LOCATION_SUCCESS",payload:a.data}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:"GET_LOCATION_FAILURE"}),S.a.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(w.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ADD_LOCATION_BEGINS"}),t.next=4,N.a.post("".concat(x,"/locations"),e);case 4:n=t.sent,a({type:"ADD_LOCATION_SUCCESS",payload:n.data}),a(I()),S.a.success("Location Added Successfully!"),t.next=16;break;case 10:throw t.prev=10,t.t0=t.catch(0),console.log(t.t0),a({type:"ADD_LOCATION_FAILURE"}),S.a.error(t.t0.message),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return e.location.locationList},_=function(e){return e.location.getLocationLoading},D=function(e){return e.location.addLocationLoading},R=function(e){return e.location.deleteLocationLoading},F=function(e){return e.location.updateLocationLoading},U=a(293),B=a(249),W=a(295),P=a(296),G=a(294),M=a(129),K=a.n(M),z=function(e){var t=e.match.params.number;console.log("idddd",t);var a,o=Object(l.b)(),c=Object(l.c)(A),i=Object(n.useCallback)((function(){o(I())}),[o]);if(Object(n.useEffect)((function(){i()}),[i]),c&&(a=c.filter((function(e){return e.locationId===parseInt(t)}))[0]),a){console.log("data  ",a);var s="";return s=!0===a.drinkable?"Drinkable":"Needs treatment",r.a.createElement(E.a,{container:!0,spacing:0},r.a.createElement(E.a,{item:!0,md:!0}),r.a.createElement(E.a,{item:!0,xs:12,md:8},r.a.createElement(g.a,{variant:"h4",component:"h1",gutterBottom:!0,className:"spl--pb spl--pt"},a.locationName),r.a.createElement("div",{className:"spl--pb"},r.a.createElement("img",{src:a.pictureURL,alt:a.locationName,className:"responsive"})),r.a.createElement(E.a,{container:!0,spacing:0},r.a.createElement(E.a,{item:!0,xs:2},r.a.createElement(g.a,{variant:"h6",component:"h4"},"Rating")),r.a.createElement(E.a,{item:!0,xs:4},r.a.createElement(j.a,{value:a.rating,max:5,onChange:function(e){return console.log("Rated with value ".concat(e))}}))),r.a.createElement(U.a,{component:"nav","aria-label":"location status"},r.a.createElement(G.a,null),r.a.createElement(B.a,null,r.a.createElement(W.a,null,r.a.createElement(K.a,{fontSize:"large",color:"primary"})),r.a.createElement(P.a,{primary:s})),r.a.createElement(G.a,null),r.a.createElement(B.a,{divider:!0},r.a.createElement(P.a,{inset:!0,primary:"Needs Treatment"})),r.a.createElement(B.a,null,r.a.createElement(P.a,{inset:!0,primary:"Uknown"}))),r.a.createElement(g.a,{variant:"h6",component:"h3",className:"spl--pb spl--pt"},"Address"),r.a.createElement(g.a,{variant:"body1",gutterBottom:!0},a.address1,r.a.createElement("br",null),a.city,r.a.createElement("br",null),a.country,r.a.createElement("br",null),a.postCode,r.a.createElement("br",null)),r.a.createElement(f.a,{size:"small",color:"primary"},"Report a problem"),r.a.createElement(f.a,{size:"small",variant:"contained",color:"primary",disableElevation:!0},"Notify me")),r.a.createElement(E.a,{item:!0,md:!0}))}return r.a.createElement(E.a,{container:!0,spacing:0},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"h5"},"loading .....")))},H=(a(209),a(62)),J=a(63),Y=a(67),q=a(66),V=a(318),X=a(92),Z=a.n(X),$=a(131),Q=a.n($),ee=a(132),te=a.n(ee),ae=a(301),ne=a(51),re=a.n(ne),oe=a(130),ce=a.n(oe);a(240);var le=function(e){var t=e.longitude,a=e.latitude,n=.025*Math.sqrt(Math.random()),r=2*Math.random()*Math.PI,o=a+n*Math.cos(r);return{longitude:t+n*Math.sin(r),latitude:o}},ie=function(e){for(var t=[],a=0;a<20;a++){var n=a,r=le(e),o=r.longitude,c=r.latitude;t.push({type:"Feature",geometry:{type:"Point",coordinates:[o,c]},properties:{id:n,name:"Random Point #".concat(n),description:"description for Random Point #".concat(n),WC:!0,Water:!0,stars:4,status:"drinkable"}})}return Promise.resolve({type:"FeatureCollection",features:t})},se=function(e){var t=e.feature.properties,a=t.id,n=t.name,o=t.stars;return r.a.createElement(E.a,{container:!0,spacing:0,className:"popupdiv"},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(g.a,null,n)),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(j.a,{value:o,max:5,onChange:function(e){return console.log("Rated with value ".concat(e))},className:"spl-star"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(f.a,{color:"primary",onClick:function(){window.location.href="/location-details/".concat(a)}},"Details")))};function ue(){return(ue=Object(w.a)(C.a.mark((function e(t){var a,n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.longitude,n=t.latitude,r=[],e.next=4,fetch("https://j33niy2o35.execute-api.eu-west-2.amazonaws.com/dev/locations?longitude=".concat(a,"&latitude=").concat(n)).then((function(e){return e.json()})).then((function(e){return e.forEach((function(e){console.log(e);var t=e.locationId;r.push({type:"Feature",geometry:{type:"Point",coordinates:[e.longitude,e.latitude]},properties:{id:t,name:e.locationName,city:e.city,WC:e.maleToilets,Water:e.water,stars:e.rating,status:e.drinkable}})}))}));case 4:return e.abrupt("return",Promise.resolve({type:"FeatureCollection",features:r}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(e){return ue.apply(this,arguments)},de=a(10);re.a.accessToken="pk.eyJ1Ijoic2FuYWVzcGxhc2giLCJhIjoiY2tmYTlwMWpmMHR0cDJ0cHAyOHZhd3V0MSJ9.PmRGRrM4p1wgKavJKm-56A";var pe=function(e){e.props;var t=Object(n.useRef)(null),a=Object(n.useRef)(new re.a.Popup({offset:[20,0]})),o=new re.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});return Object(n.useEffect)((function(){var e=new re.a.Map({container:t.current,style:"mapbox://styles/mapbox/streets-v11",center:[-1.9876,51.7405],zoom:12.5});e.addControl(new re.a.NavigationControl,"bottom-right"),e.addControl(o.on("geolocate",(function(e){var t=[e.coords.longitude,e.coords.latitude];console.log(t)})));var n=new ce.a({accessToken:re.a.accessToken,mapboxgl:re.a});return document.getElementById("geocoder").childNodes[0]||document.getElementById("geocoder").appendChild(n.onAdd(e)),e.on("load",(function(){e.addSource("random-points-data",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:"random-points-layer",source:"random-points-data",type:"symbol",layout:{"icon-image":"drinking-water-15","icon-padding":0,"icon-size":1.5,"icon-allow-overlap":!0}})})),e.on("moveend",Object(w.a)(C.a.mark((function t(){var a,n,r,o,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getCenter(),n=a.lng,r=a.lat,console.log(n,r),t.next=4,ie({longitude:n,latitude:r});case 4:return o=t.sent,console.log(o),t.next=8,me({longitude:n,latitude:r});case 8:c=t.sent,e.getSource("random-points-data").setData(c);case 10:case"end":return t.stop()}}),t)})))),e.on("mouseenter","random-points-layer",(function(t){t.features.length&&(e.getCanvas().style.cursor="pointer")})),e.on("mouseleave","random-points-layer",(function(){e.getCanvas().style.cursor=""})),e.on("click","random-points-layer",(function(t){if(t.features.length){var n=t.features[0],o=document.createElement("div");de.render(r.a.createElement(se,{feature:n}),o),a.current.setLngLat(n.geometry.coordinates).setDOMContent(o).addTo(e)}})),function(){return e.remove()}}),[]),r.a.createElement("div",{className:"map-container",ref:t})};var Ee=function(e){return r.a.createElement(E.a,{container:!0,id:"container"},r.a.createElement(E.a,{item:!0,xs:12,md:12},r.a.createElement(pe,{props:e})),r.a.createElement(E.a,{item:!0,xs:12,md:12}))},ge=function(e){Object(Y.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).handleTextChange=function(e){n.setState({text:e.target.value})},n.state={text:"",geoClicked:!1,saveLocsClicked:!1,searchEntered:!1},n}return Object(J.a)(a,[{key:"handleClick",value:function(e){console.log("".concat(e," Clicked")),"geolocation"===e?(console.log("".concat(e," Clicked2")),this.setState({geoClicked:!0})):(console.log("".concat(e," Clicked3")),this.setState({saveLocsClicked:!0})),console.log(this.state.geoClicked.toString()),console.log(this.state.saveLocsClicked.toString()),console.log(this.state.searchEntered.toString()),this.setState({redirect:!0})}},{key:"handleEnterKeyPress",value:function(e){if(13===e.keyCode){var t=e.target.value;console.log("".concat(t,"<ENTER>")),this.setState({searchEntered:!0}),e.target.value=""}}},{key:"render",value:function(){var e=this;if(this.state.redirect&&this.state.geoClicked){return console.log("passing to Filter1 - ".concat("geolocation")),r.a.createElement(Ee,{searchString:"geolocation"})}if(!this.state.redirect||!this.state.saveLocsClicked){if(this.state.redirect&&this.state.searchEntered){var t={searchString:this.state.text};return console.log("passing to Filter2 - searchString"),r.a.createElement(Ee,{searchString:t})}return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(V.a,{id:"search",label:"Search locations",placeholder:"Search locations",onChange:this.handleTextChange,onKeyDown:this.handleEnterKeyPress,value:this.state.text,InputProps:{startAdornment:r.a.createElement(ae.a,{position:"start"},r.a.createElement(Z.a,null))}})),r.a.createElement("div",null,r.a.createElement(f.a,{color:"primary",startIcon:r.a.createElement(Q.a,null),onClick:function(){return e.handleClick("geolocation")}},"Find Nearest Facility")),r.a.createElement("div",null,r.a.createElement(d.b,{to:"/manage-locations",style:{textDecoration:"none"}},r.a.createElement(f.a,{color:"primary",startIcon:r.a.createElement(te.a,null),onClick:function(){return e.handleClick("savedLocations")}},"Manage Saved Locations"))))}console.log("Into Managed Saved Locations")}}]),a}(n.Component),fe=a(7),be=a(23),he=a(65),ve=a(250),Oe=a(299),ye=a(302),je=a(303),Le=a(320);function Ce(e){var t=Object(n.useState)({water:!0,toilet:!0}),a=Object(be.a)(t,2),o=a[0],c=a[1],l=function(t){c(Object(fe.a)(Object(fe.a)({},o),{},Object(he.a)({},t.target.name,t.target.checked))),"water"===t.target.name?e.filterResults(t.target.checked,o.toilet):"toilet"===t.target.name&&e.filterResults(o.water,t.target.checked)};return r.a.createElement(Oe.a,{component:"fieldset"},r.a.createElement(ve.a,{className:"spl-filterTitle"},"Filter Results"),r.a.createElement(ye.a,null,r.a.createElement(je.a,{control:r.a.createElement(Le.a,{checked:o.water,color:"primary",onChange:l,name:"water"}),label:"Water"}),r.a.createElement(je.a,{control:r.a.createElement(Le.a,{checked:o.toilet,color:"primary",onChange:l,name:"toilet"}),label:"Toilets"})))}var we=function(e){var t=e.searchString,a=Object(n.useState)({waterFacilities:[],toiletFacilities:[],water:!0,toilet:!0}),o=Object(be.a)(a,2),c=o[0],i=o[1],s=Object(l.b)(),u=Object(l.c)(A),m=Object(n.useCallback)((function(){s(I())}),[s]);Object(n.useEffect)((function(){m()}),[m]);var d=u.filter((function(e){return!0===e.water})),p=u.filter((function(e){return!0===(e.femaleToilets||e.maleToilets)}));return console.log("waterlocations",d),r.a.createElement(E.a,{container:!0,id:"container"},r.a.createElement(E.a,{item:!0,xs:12,md:12},r.a.createElement("div",{id:"geocoder",className:"geocoder"}),r.a.createElement(pe,{searchString:t})),r.a.createElement(E.a,{item:!0,xs:12,md:12},r.a.createElement(Ce,{filterResults:function(e,t){console.log("FilterResults water:",e),console.log("FilterResults toilet:",t),e?t?(i(Object(fe.a)(Object(fe.a)({},c),{},{waterFacilities:d})),i(Object(fe.a)(Object(fe.a)({},c),{},{toiletFacilities:p})),i(Object(fe.a)(Object(fe.a)({},c),{},{water:!0})),i(Object(fe.a)(Object(fe.a)({},c),{},{toilet:!0}))):(i(Object(fe.a)(Object(fe.a)({},c),{},{toiletFacilities:[]})),i(Object(fe.a)(Object(fe.a)({},c),{},{toilet:!1}))):(i(Object(fe.a)(Object(fe.a)({},c),{},{waterFacilities:[]})),i(Object(fe.a)(Object(fe.a)({},c),{},{water:!1})))}})))},ke=a(73),Ne=a(139),Se=a(72),xe=a(304),Ie=a(316);var Te=function(){return r.a.createElement("div",null,r.a.createElement(Ie.a,{mt:8},r.a.createElement(g.a,{variant:"body2",align:"center",style:{color:"rgba(255, 255, 255, 0.54)"}},"Copyright \xa9 ",r.a.createElement(xe.a,{color:"inherit",href:"/",className:"spl--pb"},"Splashpool")," ",(new Date).getFullYear(),".")))},Ae=a(5),_e=a(305),De=a(306),Re=a(110),Fe=a(135),Ue=a.n(Fe),Be=function(){var e=Object(v.b)().loginWithRedirect;return r.a.createElement(f.a,{variant:"outlined",color:"primary",onClick:function(){return e()}},"Log In")},We=function(){var e=Object(v.b)().logout;return r.a.createElement(f.a,{variant:"outlined",color:"primary",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")},Pe=function(){return Object(v.b)().isAuthenticated?r.a.createElement(We,null):r.a.createElement(Be,null)},Ge=function(){return r.a.createElement(Pe,null)},Me=a(321),Ke=a(133),ze=a.n(Ke),He=a(134),Je=a.n(He),Ye=function(e){Object(Y.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(H.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(J.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Me.a,{style:{width:"240px"},varian:"persistent",anchor:"left",open:this.props.drawerOpened,onClose:this.props.toggleDrawer(!1),classes:{paper:e.drawerPaper}},r.a.createElement(U.a,{onClick:this.props.toggleDrawer(!1),onKeyDown:this.props.toggleDrawer(!1)},r.a.createElement(d.b,{to:"/",className:e.link},r.a.createElement(B.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(ze.a,null)),r.a.createElement(P.a,{primary:"Home"}))),r.a.createElement(d.b,{to:"/manage-locations",className:e.link},r.a.createElement(B.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(Je.a,null)),r.a.createElement(P.a,{primary:"Manage Locations"}))),r.a.createElement(d.b,{to:"/locations",className:e.link},r.a.createElement(B.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(Z.a,null)),r.a.createElement(P.a,{primary:"Search Locations"}))))))}}]),a}(n.Component),qe=Object(Ae.a)((function(e){return{drawerPaper:Object(he.a)({width:"inherit",marginTop:64},e.breakpoints.down("sm"),{marginTop:56}),link:{textDecoration:"none",color:e.palette.text.primary},gutterBottom:{marginBottom:"1.5rem"}}}))(Ye),Ve=function(e){Object(Y.a)(a,e);var t=Object(q.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).toggleDrawer=function(e){return function(){n.setState({drawerOpened:e})}},n.state={drawerOpened:!1},n}return Object(J.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(_e.a,{position:"static",color:"transparent"},r.a.createElement(De.a,null,r.a.createElement(Re.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:this.toggleDrawer(!0)},r.a.createElement(Ue.a,null)),r.a.createElement(g.a,{variant:"h6",className:e.title},"Oasis"),r.a.createElement("div",null,r.a.createElement(Ge,null)))),r.a.createElement(qe,{drawerOpened:this.state.drawerOpened,toggleDrawer:this.toggleDrawer}))}}]),a}(r.a.Component),Xe=Object(Ae.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}))(Ve),Ze=function(e){var t,a=e.match.params.locationId,o=Object(l.b)(),c=Object(l.c)(A),i=Object(n.useCallback)((function(){o(I())}),[o]);return Object(n.useEffect)((function(){i()}),[i]),c&&(t=c.filter((function(e){return e.locationId===parseInt(a)}))[0]),t?r.a.createElement("div",null,r.a.createElement(E.a,{container:!0,spacing:0},r.a.createElement(E.a,{item:!0,md:!0}),r.a.createElement(E.a,{item:!0,xs:12,md:8},r.a.createElement(g.a,{variant:"h4",component:"h1",gutterBottom:!0,className:"spl--pb spl--pt"},t.locationName),r.a.createElement("img",{src:t.pictureURL,alt:t.locationName,className:"responsive"}),r.a.createElement(g.a,{variant:"body1",gutterBottom:!0,className:"spl--pt"},t.address1),r.a.createElement(g.a,{variant:"body1",gutterBottom:!0,className:"spl--pb"},t.postCode)),r.a.createElement(E.a,{item:!0,md:!0}))):r.a.createElement(E.a,{container:!0,spacing:0},r.a.createElement(E.a,{item:!0,md:!0}),r.a.createElement(E.a,{item:!0,xs:12,md:8},r.a.createElement(g.a,{variant:"h4",component:"h1",gutterBottom:!0,className:"spl--pb spl--pt"},"Location not found")),r.a.createElement(E.a,{item:!0,md:!0}))},$e=a(136),Qe=a.n($e),et={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},tt=function(){return r.a.createElement("div",{style:et},r.a.createElement("img",{src:Qe.a,alt:"Loading..."}))},at=a(144),nt=function(e){var t=e.component,a=Object(at.a)(e,["component"]);return r.a.createElement(p.a,Object.assign({component:Object(v.c)(t,{onRedirecting:function(){return r.a.createElement(tt,null)}})},a))},rt=a(314),ot=a(313),ct=a(137),lt=a.n(ct),it=a(111),st=a(138),ut=a.n(st),mt=a(300),dt=a(311),pt=a(317),Et=a(307),gt=a(312),ft=a(309),bt=a(310),ht=a(308),vt=Object(it.a)((function(e){return{formControl:{minWidth:300},selectEmpty:{marginTop:e.spacing(2)}}}));function Ot(){var e=vt(),t=lt()().getData(),a=Object(l.b)(),o=r.a.useState(!1),c=Object(be.a)(o,2),i=c[0],s=c[1],u=Object(n.useState)(""),m=Object(be.a)(u,2),d=m[0],p=m[1],g=Object(n.useState)(""),b=Object(be.a)(g,2),h=b[0],v=b[1],O=Object(n.useState)(""),y=Object(be.a)(O,2),j=y[0],L=y[1],k=Object(n.useState)(""),S=Object(be.a)(k,2),x=S[0],I=S[1],A=Object(n.useState)(""),_=Object(be.a)(A,2),R=_[0],F=_[1],U=Object(n.useState)(""),B=Object(be.a)(U,2),W=B[0],P=B[1],G=Object(l.c)(D),M=function(){p(""),v(""),L(""),I(""),F(""),P("")},K=function(){M(),s(!1)},z=function(){var e=Object(w.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(d,h,j,x,R,W),e.next=3,N.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(R,"&key=").concat("AIzaSyBinAucLM8flXk8sNUy1lG7APlKTpn4KUs"));case 3:return t=e.sent,n=t.data.results[0].geometry.location,e.prev=5,e.next=8,a(T({locationName:d,address1:h,address2:j,city:x,postCode:R,country:W,longitude:n.lng,latitude:n.lat,adminOrg:"",water:!1,drinkable:!0,treatment:!1,unknown:!1,largeWaterFacility:!1,maleToilets:!1,femaleToilets:!1,largeToiletFacility:!1,disabledAccess:!1,chargeForUse:!1,openingHours:"",hasIssue:!1}));case 8:s(!1),M(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(E.a,{container:!0,justify:"flex-end",className:"spl--pb"},r.a.createElement(f.a,{variant:"outlined",color:"primary",onClick:function(){s(!0)}},r.a.createElement(ut.a,null)," Add Location")),r.a.createElement(Et.a,{open:i,onClose:K,"aria-labelledby":"form-dialog-title"},r.a.createElement(ht.a,{id:"form-dialog-title"},"Add Location"),r.a.createElement(ft.a,null,r.a.createElement(bt.a,null,"Please enter your location details here."),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(V.a,{margin:"dense",id:"locationName",label:"Location Name",placeholder:"Enter location name",type:"text",fullWidth:!0,required:!0,value:d,onChange:function(e){p(e.target.value)}}),r.a.createElement(V.a,{margin:"dense",id:"address1",label:"Address Line 1",type:"text",fullWidth:!0,value:h,onChange:function(e){v(e.target.value)}}),r.a.createElement(V.a,{margin:"dense",id:"address2",label:"Address Line 2",type:"text",fullWidth:!0,value:j,onChange:function(e){L(e.target.value)}}),r.a.createElement(V.a,{margin:"dense",id:"city",label:"City",type:"text",fullWidth:!0,required:!0,value:x,onChange:function(e){I(e.target.value)}}),r.a.createElement(V.a,{margin:"dense",id:"postcode",label:"Postcode",type:"text",fullWidth:!0,value:R,onChange:function(e){F(e.target.value)}}),r.a.createElement(Oe.a,{className:e.formControl},r.a.createElement(mt.a,{id:"country"},"Country"),r.a.createElement(pt.a,{labelId:"country",id:"country",required:!0,value:W,onChange:function(e){P(e.target.value)}},t.map((function(e){return r.a.createElement(dt.a,{key:e.value,value:e.label},e.label)})))))),r.a.createElement(gt.a,null,r.a.createElement(f.a,{onClick:K,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){return z()},color:"primary"},"Add Location",G&&r.a.createElement(ot.a,null)))))}function yt(){var e=Object(l.b)(),t=Object(l.c)(A),a=Object(l.c)(_),o=Object(l.c)(R),c=Object(l.c)(F),i=Object(n.useState)(null),s=Object(be.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(null),h=Object(be.a)(p,2),v=h[0],O=h[1],y=Object(n.useCallback)((function(){e(I())}),[e]);Object(n.useEffect)((function(){y()}),[y]);var j=function(t){var a;m(t.locationId),e((a=t.locationId,function(){var e=Object(w.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"DELETE_LOCATION_BEGINS"}),e.next=4,N.a.delete("".concat(x,"/locations?locationId=").concat(a));case 4:t({type:"DELETE_LOCATION_SUCCESS",payload:a}),S.a.success("Location Deleted Successfully!"),e.next=14;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:"DELETE_LOCATION_FAILURE"}),S.a.error(e.t0.message),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};return r.a.createElement("div",null,r.a.createElement(E.a,{container:!0,spacing:0},r.a.createElement(E.a,{item:!0,md:!0}),r.a.createElement(E.a,{item:!0,xs:12,md:6},r.a.createElement(g.a,{variant:"h5",component:"h1",gutterBottom:!0,className:"spl--pb spl--pt"},"Manage Locations"),!a&&0===t.length&&r.a.createElement(g.a,{variant:"body1",gutterBottom:!0,className:"spl--pb"},"Locations list empty."),a&&r.a.createElement(rt.a,null),r.a.createElement(Ot,null),r.a.createElement("div",null,r.a.createElement(U.a,null,t.map((function(t,a){return r.a.createElement(B.a,{key:a},r.a.createElement(P.a,{primary:t.locationName}),r.a.createElement(d.b,{to:"/location/".concat(t.locationId)},r.a.createElement(f.a,{variant:"outlined",color:"primary","aria-label":"display"},r.a.createElement(b.a,{icon:"eye"}))),r.a.createElement(f.a,{variant:"contained",color:"primary",style:{marginLeft:"0.5rem"},"aria-label":"update",onClick:function(){return function t(a){O(a.locationId),e(t(Object(fe.a)({},a)))}(t)}},r.a.createElement(b.a,{icon:"pen"}),c&&t.locationId===v&&r.a.createElement(ot.a,{color:"secondary"})),r.a.createElement(f.a,{variant:"outlined",color:"secondary",style:{marginLeft:"0.5rem"},"aria-label":"delete",onClick:function(){return j(t)}},r.a.createElement(b.a,{icon:"trash-alt"}),o&&t.locationId===u&&r.a.createElement(ot.a,{color:"secondary"})))}))))),r.a.createElement(E.a,{item:!0,md:!0})))}ke.b.add(Ne.a,Se.b,Se.d,Se.e,Se.c,Se.a);var jt=Object(s.a)({palette:{primary:{main:"#1FB0F5"}},typography:{fontFamily:['"Montserrat"',"BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}}),Lt=function(){return Object(v.b)().isLoading?r.a.createElement(tt,null):r.a.createElement(u.a,{theme:jt},r.a.createElement(i.b,{injectFirst:!0},r.a.createElement(d.a,null,r.a.createElement(Xe,null),r.a.createElement(m.a,{maxWidth:"md"},r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/locations"},r.a.createElement(we,null)),r.a.createElement(p.a,{path:"/search",component:ge}),r.a.createElement(p.a,{path:"/map-view",component:pe}),r.a.createElement(p.a,{path:"/popup",component:se}),r.a.createElement(p.a,{path:"/manage-locations",component:yt}),r.a.createElement(p.a,{path:"/location/:locationId",component:Ze}),r.a.createElement(nt,{path:"/profile",component:O}),r.a.createElement(p.a,{path:"/location-details/:number",component:z}),r.a.createElement(p.a,{path:"/",exact:!0,component:h}))),r.a.createElement(Te,null))))},Ct=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function wt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var kt=a(47),Nt=a(140),St=a(141),xt=a(142),It={userList:[]},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_USER":return Object(fe.a)(Object(fe.a)({},e),{},{userList:n});default:return e}},At=a(143),_t={locationList:[],getLocationLoading:!1,addLocationLoading:!1,deleteLocationLoading:!1,updateLocationLoading:!1},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_LOCATION_BEGINS":return Object(fe.a)(Object(fe.a)({},e),{},{getLocationLoading:!0});case"GET_LOCATION_SUCCESS":return Object(fe.a)(Object(fe.a)({},e),{},{locationList:n,getLocationLoading:!1});case"GET_LOCATION_FAILURE":return Object(fe.a)(Object(fe.a)({},e),{},{getLocationLoading:!1});case"ADD_LOCATION_BEGINS":return Object(fe.a)(Object(fe.a)({},e),{},{addLocationLoading:!0});case"ADD_LOCATION_SUCCESS":return Object(fe.a)(Object(fe.a)({},e),{},{locationList:[].concat(Object(At.a)(e.locationList),[n]),addLocationLoading:!1});case"ADD_LOCATION_FAILURE":return Object(fe.a)(Object(fe.a)({},e),{},{addLocationLoading:!1});case"DELETE_LOCATION_BEGINS":return Object(fe.a)(Object(fe.a)({},e),{},{deleteLocationLoading:!0});case"DELETE_LOCATION_SUCCESS":return Object(fe.a)(Object(fe.a)({},e),{},{locationList:e.locationList.filter((function(e){return e.locationId!==n})),deleteLocationLoading:!1});case"DELETE_LOCATION_FAILURE":return Object(fe.a)(Object(fe.a)({},e),{},{deleteLocationLoading:!1});case"UPDATE_LOCATION_BEGINS":return Object(fe.a)(Object(fe.a)({},e),{},{updateLocationLoading:!0});case"UPDATE_LOCATION_SUCCESS":return Object(fe.a)(Object(fe.a)({},e),{},{locationList:e.locationList.map((function(e){return e.locationId===n.locationId?n:e})),updateLocationLoading:!1});case"UPDATE_LOCATION_FAILURE":return Object(fe.a)(Object(fe.a)({},e),{},{updateLocationLoading:!1});default:return e}},Rt=Object(kt.combineReducers)({user:Tt,location:Dt}),Ft=Object(xt.createLogger)({collapsed:!0}),Ut=Object(kt.createStore)(Rt,void 0,Object(St.composeWithDevTools)(Object(kt.applyMiddleware)(Nt.a,Ft))),Bt=(a(245),function(e){var t=e.children,a=Object(p.f)();return r.a.createElement(v.a,{domain:"dev-ov395x0x.eu.auth0.com",clientId:"VvokYrBlTBptqKIeAu6XmkIa9ypeKYk8",redirectUri:window.location.origin,onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"https://express.sample"},t)});S.a.configure({autoClose:1500}),c.a.render(r.a.createElement(d.a,null,r.a.createElement(Bt,null,r.a.createElement(l.a,{store:Ut},r.a.createElement(Lt,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ct?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):wt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):wt(t,e)}))}}()}},[[169,1,2]]]);
//# sourceMappingURL=main.e6bc4483.chunk.js.map